<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Hello, world!</title>

    <style>
      body{
        margin: 0px;
      }

      #parentBox{
        background-color: cyan;
        margin: 0px;
        height: 100vh;
        width: 100vw;
      }

      .bottles{
        background-color: lightgreen;
        height: 160px;
        width: 60px;
      }

      .colorSegment{
        position: relative;
        bottom: 0px;
        height: 40px;
        width: 40px;
        text-align: center;
      }

    </style>
  </head>
  <body>

    <div class="row d-flex justify-content-center" id="innerborder">
      some randome text here
    </div>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <!-- <script type="text/javascript" src="./Static/Js/levels.js"></script> -->
    <script type="text/javascript">
      let allColors = ["B","C","F","G","I","M","O","P","R","T","V","Y"];

      let level = 2
      let numberOfColor = 1;
      let numberOfBottle = 3;
      let numberofSegmentInOneBottle = 2;
      let allBottleArrays=[]; 

      let generatedColorsPallet = randomeColorPalletSelector(numberOfColor);



      console.log(generatedColorsPallet);

      // console.log(allBottleArrays);
      generatBottleArray(numberOfBottle,numberofSegmentInOneBottle, numberOfColor);
      console.log(allBottleArrays);
      jumbleColors();
      console.log(allBottleArrays);





      /*
      let jumbleColorOperationIter = 0; 
      while(jumbleColorOperationIter < level){
      	donnerBottle = getRandomInt(0,numberOfBottle);
        receiverBottle = getRandomInt(0,numberOfBottle);

        
        if(allBottleArrays[donnerBottle].length < 1){
        	donnerBottle = getRandomInt(0,numberOfBottle);
        }
        else if( donnerBottle === receiverBottle ){
        	receiverBottle = getRandomInt(0,numberOfBottle);
        }
        else if(  ){

        }
      }
	  */

	  function jumbleColors(){
	      for( let jumbleColorOperationIter=0; jumbleColorOperationIter<level; jumbleColorOperationIter++){
	          
	        donnerBottle = getRandomInt(0,numberOfBottle);
	        receiverBottle = getRandomInt(0,numberOfBottle);

	        while(allBottleArrays[donnerBottle].length < 1){
	        	console.log(donnerBottle,receiverBottle);
	        	console.log("donnerBottle empty");
	        	donnerBottle = getRandomInt(0,numberOfBottle);
	        }

	        while( donnerBottle === receiverBottle ){
	        	console.log(donnerBottle,receiverBottle);
	        	console.log("both bottle are same");
	        	receiverBottle = getRandomInt(0,numberOfBottle);
	        }

	        while(allBottleArrays[receiverBottle].length === numberofSegmentInOneBottle){
	        	console.log(donnerBottle,receiverBottle);
	        	console.log("receiverBottle full");
	        	receiverBottle = getRandomInt(0,numberOfBottle);
	        }

	        // let newOperation = [1,2,3];
	        let newOperation = [donnerBottle,receiverBottle];
	        console.log("final operation",newOperation);

	        let donatedSegment = allBottleArrays[donnerBottle].shift();
			allBottleArrays[receiverBottle].unshift(donatedSegment);

	      }
	  }


      




      function generatBottleArray( totalNumberOfBottle, totalSegmentInOneBottle, totalColors ){
        for( let bottleArrayGenerateItr = 0; bottleArrayGenerateItr < totalNumberOfBottle; bottleArrayGenerateItr++ ){

          if(bottleArrayGenerateItr < totalColors){
            oneBottleArray = new Array(totalSegmentInOneBottle).fill(generatedColorsPallet[bottleArrayGenerateItr]);
            allBottleArrays.push(oneBottleArray);
          }
          else{
            allBottleArrays.push([]);
          }

        }
      }

      function randomeColorPalletSelector( numberOfColors ){
        let generatedRandomeColorsPallet = [];

        let randomColorSelectIter = 0;
        while(randomColorSelectIter < numberOfColors){

          let randomeColor = allColors[getRandomInt(0,allColors.length)];
          if( !generatedRandomeColorsPallet.includes(randomeColor))
            { 
              generatedRandomeColorsPallet.push(randomeColor);
              randomColorSelectIter++;
            }
        }

        return generatedRandomeColorsPallet;
      }
      

      // funtion to get randome int
      function getRandomInt( min = 0 , max = 0) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min) + min);
      }
      // 

    </script>

  </body>
</html>